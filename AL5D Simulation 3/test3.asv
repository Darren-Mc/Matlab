clear;
clc;

stdy = 5;
stdp = 5;

yaw1 = 45;
lim = 3;
dd = 500;
yaw2 = linspace(yaw1-d,yaw1+d,dd);
yaw2 = yaw2;
pitch1 = yaw1;
pitch2 = linspace(pitch1-d,pitch1+d,dd);
pitch2 = pitch2';
ux = cosd(pitch2)*cosd(yaw2);
uy = cosd(pitch2)*sind(yaw2);
uz = sind(pitch2)*ones(size(yaw2));
vx = cosd(pitch1)*cosd(yaw1);
vy = cosd(pitch1)*sind(yaw1);
vz = sind(pitch1);

c = normpdf(pitch2,pitch1,stdp)*normpdf(yaw2,yaw1,stdy);

% c = acosd(cosd(pitch1)*cosd(pitch2)*cosd(yaw1-yaw2)+sind(pitch1)*sind(pitch2)*ones(size(yaw2)));
c = c./max(max(c));


plot3([0 vx], [0 vy], [0 vz]);
hold on
surf(ux,uy,uz,c,'FaceAlpha','flat','AlphaDataMapping','none','AlphaData',c)
shading interp;
colormap([0 0 1]);
% n = 100;
% vector = normpdf(linspace(0,1.5,n),0,1);
% vector = vector-min(vector);
% vector = vector./max(vector)
% map = [vector', vector', ones(n,1)];
% colormap(map);
% mesh(pitch2-pitch1,yaw2-yaw1,c)
% xlabel('Pitch Disparity (Degrees)')
% ylabel('Yaw Disparity (Degrees)')
% zlabel('Total Disparity (Degrees)')
axis([0 1 0 1 0 1])